/* ══════════════════════════════════════════════════════════════
   tryMe — Editor styles
   ══════════════════════════════════════════════════════════════ */

html, body { height: 100%; overflow: hidden; }

/* ── Layout ──────────────────────────────────────────────────── */
.editor-layout {
    display: grid;
    grid-template-rows: 52px 1fr;
    grid-template-columns: 280px 1fr 300px;
    grid-template-areas:
        "topbar  topbar  topbar"
        "sidebar canvas  hotspot-panel";
    height: 100vh;
}

/* ── Top bar ─────────────────────────────────────────────────── */
.editor-topbar {
    grid-area: topbar;
    display: flex; align-items: center; justify-content: space-between;
    padding: 0 20px;
    background: var(--bg-panel);
    border-bottom: 1px solid var(--border-light);
    gap: 12px;
}
.topbar-left  { display: flex; align-items: center; gap: 12px; min-width: 0; }
.topbar-right { display: flex; align-items: center; gap: 8px; flex-shrink: 0; }

.demo-title-input {
    background: transparent; border: none; color: var(--text-primary);
    font-size: 15px; font-weight: 700; width: 260px;
    padding: 4px 8px; border-radius: var(--radius-xs);
    border: 1px solid transparent;
}
.demo-title-input:focus {
    background: var(--bg-input); border-color: var(--brand-primary);
    outline: none;
}
.back-link {
    color: var(--text-muted); font-size: 13px;
    display: flex; align-items: center; gap: 4px;
}
.back-link:hover { color: var(--text-primary); }

.step-counter {
    font-size: 12px; color: var(--text-muted);
    background: var(--bg-card); padding: 3px 10px; border-radius: 20px;
}

/* ── Left sidebar — step list ────────────────────────────────── */
.step-sidebar {
    grid-area: sidebar;
    background: var(--bg-panel);
    border-right: 1px solid var(--border-light);
    display: flex; flex-direction: column;
    overflow: hidden;
}
.step-sidebar-header {
    padding: 14px 16px 10px;
    border-bottom: 1px solid var(--border-light);
    font-size: 11px; font-weight: 700; color: var(--text-muted);
    text-transform: uppercase; letter-spacing: 0.06em;
}
.step-list {
    flex: 1; overflow-y: auto;
    padding: 8px;
}
.step-item {
    display: flex; align-items: center; gap: 10px;
    padding: 10px 10px;
    border-radius: var(--radius-sm);
    cursor: pointer;
    transition: var(--transition);
    position: relative;
    margin-bottom: 4px;
    border: 1px solid transparent;
}
.step-item:hover { background: var(--bg-card); }
.step-item.active {
    background: rgba(108,92,231,0.15);
    border-color: rgba(108,92,231,0.35);
}
.step-number {
    width: 22px; height: 22px; border-radius: 50%;
    background: var(--bg-card); border: 1px solid var(--border);
    font-size: 11px; font-weight: 700; color: var(--text-muted);
    display: flex; align-items: center; justify-content: center;
    flex-shrink: 0;
}
.step-item.active .step-number {
    background: var(--brand-primary); color: #fff; border-color: var(--brand-primary);
}
.step-thumb {
    width: 44px; height: 30px; border-radius: 4px;
    background: var(--bg-card); border: 1px solid var(--border-light);
    object-fit: cover; flex-shrink: 0; overflow: hidden;
    display: flex; align-items: center; justify-content: center;
    color: var(--text-muted); font-size: 18px;
}
.step-thumb img { width: 100%; height: 100%; object-fit: cover; }
.step-meta { flex: 1; min-width: 0; }
.step-item-title {
    font-size: 12px; font-weight: 600; color: var(--text-primary);
    white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
}
.step-item-sub {
    font-size: 11px; color: var(--text-muted);
    margin-top: 1px;
}
.step-delete {
    display: none; background: none; border: none;
    color: var(--text-muted); cursor: pointer; padding: 4px;
    border-radius: 4px; flex-shrink: 0;
}
.step-item:hover .step-delete { display: flex; }
.step-delete:hover { color: #e17055; background: rgba(225,112,85,0.1); }

/* drag handle */
.step-drag-handle {
    color: var(--text-muted); font-size: 14px; cursor: grab;
    flex-shrink: 0; opacity: 0;
    transition: opacity var(--transition);
}
.step-item:hover .step-drag-handle { opacity: 1; }
.step-item.dragging { opacity: 0.4; }
.step-item.drag-over { border-color: var(--brand-light); background: rgba(108,92,231,0.08); }

.step-sidebar-footer {
    padding: 12px;
    border-top: 1px solid var(--border-light);
}

/* ── Canvas area ─────────────────────────────────────────────── */
.canvas-area {
    grid-area: canvas;
    background: #0a0a12;
    display: flex; flex-direction: column;
    overflow: hidden;
}
.canvas-toolbar {
    display: flex; align-items: center; gap: 10px;
    padding: 8px 16px;
    background: var(--bg-panel);
    border-bottom: 1px solid var(--border-light);
    flex-shrink: 0;
}
.canvas-toolbar .tool-btn {
    padding: 5px 12px; border-radius: var(--radius-xs);
    font-size: 12px; font-weight: 600;
    border: 1px solid var(--border);
    background: var(--bg-card); color: var(--text-secondary);
    cursor: pointer; transition: var(--transition);
}
.canvas-toolbar .tool-btn:hover { border-color: var(--brand-light); color: var(--text-primary); }
.canvas-toolbar .tool-btn.active {
    background: rgba(108,92,231,0.2); border-color: var(--brand-primary); color: var(--brand-light);
}
.canvas-toolbar .upload-label {
    display: inline-flex; align-items: center; gap: 5px;
    padding: 5px 12px; border-radius: var(--radius-xs);
    font-size: 12px; font-weight: 600;
    border: 1px solid var(--border);
    background: var(--bg-card); color: var(--text-secondary);
    cursor: pointer; transition: var(--transition);
}
.canvas-toolbar .upload-label:hover { border-color: var(--brand-light); color: var(--text-primary); }
.canvas-toolbar .separator { width: 1px; height: 22px; background: var(--border-light); }
.hint-text { font-size: 12px; color: var(--text-muted); }

.canvas-viewport {
    flex: 1; overflow: auto;
    display: flex; align-items: center; justify-content: center;
    padding: 24px;
}
.canvas-container {
    position: relative; display: inline-block;
    max-width: 100%; max-height: 100%;
}
.canvas-container img {
    display: block; max-width: 100%; max-height: calc(100vh - 200px);
    object-fit: contain; border-radius: var(--radius-xs);
    user-select: none; pointer-events: none;
}
.canvas-container canvas {
    position: absolute; top: 0; left: 0;
    width: 100%; height: 100%;
    cursor: crosshair;
}
.canvas-container canvas.select-mode { cursor: default; }

.no-screenshot {
    display: flex; flex-direction: column; align-items: center; justify-content: center;
    gap: 16px; padding: 60px 32px;
    border: 2px dashed var(--grey-dark); border-radius: var(--radius);
    color: var(--text-muted); text-align: center; min-width: 400px;
}
.no-screenshot .icon { font-size: 48px; }
.no-screenshot p { font-size: 13px; max-width: 280px; }

/* Step metadata below canvas */
.step-meta-bar {
    padding: 10px 16px;
    background: var(--bg-panel);
    border-top: 1px solid var(--border-light);
    display: flex; gap: 12px; align-items: flex-start;
    flex-shrink: 0;
}
.step-meta-bar .field-group { margin-bottom: 0; flex: 1; }
.step-meta-bar input, .step-meta-bar textarea {
    font-size: 12px; padding: 6px 10px;
}
.step-meta-bar textarea { min-height: 48px; resize: none; }

/* ── Hotspot panel ───────────────────────────────────────────── */
.hotspot-panel {
    grid-area: hotspot-panel;
    background: var(--bg-panel);
    border-left: 1px solid var(--border-light);
    display: flex; flex-direction: column;
    overflow: hidden;
}
.hotspot-panel-header {
    padding: 14px 16px 10px;
    border-bottom: 1px solid var(--border-light);
    display: flex; align-items: center; justify-content: space-between;
}
.hotspot-panel-title {
    font-size: 11px; font-weight: 700; color: var(--text-muted);
    text-transform: uppercase; letter-spacing: 0.06em;
}
.hotspot-list-section {
    flex: 1; overflow-y: auto; padding: 12px;
}
.hotspot-empty {
    padding: 24px 12px; text-align: center;
    font-size: 12px; color: var(--text-muted); line-height: 1.6;
}

/* Hotspot list item */
.hotspot-item {
    background: var(--bg-card);
    border: 1px solid var(--border-light);
    border-radius: var(--radius-sm);
    padding: 10px 12px;
    margin-bottom: 8px;
    cursor: pointer;
    transition: var(--transition);
}
.hotspot-item:hover, .hotspot-item.active {
    border-color: rgba(108,92,231,0.4);
    background: rgba(108,92,231,0.08);
}
.hotspot-item-top {
    display: flex; align-items: flex-start; justify-content: space-between; gap: 8px;
}
.hotspot-item-label {
    font-size: 13px; font-weight: 600; color: var(--text-primary); flex: 1;
    white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
}
.hotspot-action-badge {
    font-size: 10px; font-weight: 700; padding: 2px 7px; border-radius: 10px;
    flex-shrink: 0;
}
.action-next  { background: rgba(0,206,201,0.15); color: var(--accent); }
.action-goto  { background: rgba(108,92,231,0.2);  color: var(--brand-light); }
.action-end   { background: rgba(253,121,168,0.15); color: var(--accent-warm); }
.hotspot-coords { font-size: 10px; color: var(--text-muted); margin-top: 3px; font-family: var(--font-mono); }

/* Hotspot edit form */
.hotspot-edit-form {
    background: var(--bg-card);
    border: 1px solid rgba(108,92,231,0.3);
    border-radius: var(--radius-sm);
    padding: 14px;
    margin-bottom: 8px;
}
.hotspot-edit-form .form-title {
    font-size: 12px; font-weight: 700; color: var(--brand-light);
    margin-bottom: 12px; display: flex; align-items: center; justify-content: space-between;
}
.hotspot-edit-form .field-group { margin-bottom: 10px; }
.hotspot-edit-form input,
.hotspot-edit-form select { font-size: 12px; padding: 6px 10px; }
.hotspot-edit-form label { font-size: 11px; margin-bottom: 4px; }

/* Hotspot draw instruction */
.draw-instruction {
    padding: 12px; margin: 0 12px 12px;
    background: rgba(108,92,231,0.1); border: 1px solid rgba(108,92,231,0.2);
    border-radius: var(--radius-sm); font-size: 12px; color: var(--brand-light);
    line-height: 1.5; text-align: center;
}
